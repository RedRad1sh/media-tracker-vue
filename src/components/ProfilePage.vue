<template>
    <div class="block">
        <MenuComponent id="menu-include" active-element="-1" />
        <div class="content-main">
            <div class="profile-info container-row">
                <div class="image-frame">
                    <img src="../assets/general_assets/image31416-6yvs-400w.png" alt="image31416" class="image" />
                    <span class="image-text">
                        <span>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, Radish!</span>
                    </span>
                </div>
                <div class="pie-frame">
                    <canvas id="contentChart">
                    </canvas>
                </div>
                <div class="navigation">
                    <a href="user-lists.html" class="text">
                        üìã –°–ø–∏—Å–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                    </a>
                    <a href="user-reviews.html" class="text">
                        üìí –û—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ—Ü–µ–Ω–∑–∏–∏
                    </a>
                </div>
            </div>
            <div class="container-row">
                <div class="pie-frame">
                    <canvas id="kinoChart">
                    </canvas>
                </div>
                <div class="pie-frame">
                    <canvas id="booksChart">
                    </canvas>
                </div>
                <div class="pie-frame">
                    <canvas id="gameChart">
                    </canvas>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import MenuComponent from './navigation/MenuComponent.vue';
/* eslint no-unused-vars: 0 */
import { Chart, registerables } from 'chart.js'
Chart.register(...registerables);
function createPieChart(elementName, header, keys, values) {
    console.log(document)
    const ctx = document.getElementById(elementName);

    new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: keys,
            datasets: [{
                data: values,
                borderWidth: 1
            }],
            options: {
                maintainAspectRatio: false,
            }
        },
        options: {
            plugins: {
                title: {
                    display: true,
                    text: header,
                    font: {
                        family: 'sans-serif',
                        size: 24
                    },
                    color: 'white' // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞
                },
                legend: {
                    padding: "20",
                    position: 'right',
                    labels: {
                        font: {
                            size: 14
                        },
                        color: 'white' // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞ –ª–µ–≥–µ–Ω–¥—ã
                    }
                }
            }
        }
    });
}

export default {
    name: 'ProfilePage',
    props: {
        msg: String
    },
    components: {
        MenuComponent
    },
    mounted() {
        createPieChart('contentChart', '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç',
            ['–§–∏–ª—å–º—ã', '–ö–Ω–∏–≥–∏', '–ò–≥—Ä—ã'],
            [19, 12, 3]);
        createPieChart('kinoChart', '–§–∏–ª—å–º—ã',
            ['–ö–æ–º–µ–¥–∏—è', '–ë–æ–µ–≤–∏–∫', '–§–∞–Ω—Ç–∞—Å—Ç–∏–∫–∞', '–î—Ä–∞–º–∞', '–¢—Ä–∏–ª–ª–µ—Ä', '–£–∂–∞—Å—ã', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è', '–ú—É–ª—å—Ç—Ñ–∏–ª—å–º'],
            [7, 10, 23, 15, 8, 5, 12, 9]);
        createPieChart('booksChart', '–ö–Ω–∏–≥–∏',
            ['–î–µ—Ç–µ–∫—Ç–∏–≤', '–§—ç–Ω—Ç–µ–∑–∏', '–£–∂–∞—Å—ã', '–†–æ–º–∞–Ω', '–ö–ª–∞—Å—Å–∏–∫–∞', '–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è', '–ù–∞—É—á–Ω–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë–∏–æ–≥—Ä–∞—Ñ–∏—è'],
            [19, 12, 3, 8, 15, 6, 10, 5]);
        createPieChart('gameChart', '–ò–≥—Ä—ã',
            ['–®—É—Ç–µ—Ä', '–°–∏–º—É–ª—è—Ç–æ—Ä', '–°—Ç—Ä–∞—Ç–µ–≥–∏—è', 'Rogue-like', '–ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä', '–ì–æ–Ω–∫–∏', '–†–æ–ª–µ–≤–∞—è', '–ê—Ä–∫–∞–¥–∞'],
            [19, 12, 3, 2, 8, 6, 15, 5]);
    }
}
</script>

<style lang="scss" scoped>
@import "~@/assets/css/profile.scss";
@import "~@/assets/css/nav-right.scss";
@import "~@/assets/css/styles.scss";
</style>